URL reference: https://dev.to/jamallmahmoudi/kubernetes-certificate-expiration-x509-1g7d
DateReviewed: 2024-08-01
Description: Seems it's important to understand Cert management for Kubernetes. The motivation they use isn't too strong, just talking about lapsed renewal instead of talking about why you want TLS. We get a laundry list of what certificates are in general, and then what Kubernetes does with them. We then move to the meat of this article -- checking cert validity and expiration. They show CLI commands to display various bits to display the expiry from either openssl or kubeadm. They wisely advise backing the certs up, and then walk through the commands to renew the certs. They also advise to restart the pods and also to do some clean up. Overall a good base, but would have been better with a bit more flow and organisation.
BottomLine: Decent piece on the renewal of TLS certs in Kubernetes
==
URL reference: https://github.com/digitalis-io/vals-operator
DateReviewed: 2024-08-02
Description: This is a repo to keep secrets in sync between an external secret store and Kubernetes secrets so they can be used in various pods. The repo has a video walkthrough, install instructions and examples of how to integrate with various stores, like AWS Secrets Manager and HashiCorp Vault for example. They even mention how to do password rotation as an advanced topic.
BottomLine: Interesting repo allowing you to integrate external secrets seemlessly into Kubernetes
==
URL reference: https://medium.com/@martinko.komorny/grafana-agent-alloy-loki-minio-grafana-in-kubernetes-4fe4894b1341
DateReviewed: 2024-08-03
Description: This article goes through setting up a logging service in Kubernetes. After the motivation, we start with a diagram -- I hope that's a good sign. We also start with great advice - ensure proper logging of your apps. They then talk a bit about the Java logging piece they use and ints config. They include a sample XML file for their logger config. We now move on to some microservices that are logging in JSON format. The LGTM stack uses Minio for storage, which is an S3 like on-prem object store. They give the YAML to get this running. We now move onto managing the stored log files with Loki. There are a few options, and they went with a simple scalable install for Loki. This creates three services - writer, reader and backend. Loki uses labels to write and then read the logs, which it uses for indexing and faster searches. We then get a Helm chart to do the Loki install and setup. Once this is done, we turn to feeding the data into the logging system. In the past we might have used Grafana agent, but this has now been replaced with Alloy which our author opts for. Again we deploy Alloy from a Helm chart. Last but not least, we want to see our logs, so we do the visualizaion through Grafana and deploy this with another Helm chart. It's a good walkthrough.
BottomLine: Walk through setting up logging for Kubernetes
==
URL reference: https://rakowskiii.medium.com/charting-the-waters-exploring-kubernetes-basics-through-a-security-researchers-lens-3c7964ea8d15
DateReviewed: 2024-08-04
Description: So this article will be looking into Kubernetes basics from a security perspective. We start with the usual "what is Kubernetes", and then we move onto the core concepts. (There is a weird unhelpful diagram here). They go through namespaces, pods, nodes, services, and deployments. Each gets a solid paragraph explaining what it is. Now we dive into the architecture, and cover the control plane and node concepts, with sub-concepts covered for each higher level area. We finally get to security, and here we cover network policies, pod security policies, secrets management, and audits. Each has a paragraph on it. So, it's a decent high level overview for someone who has never seen K8s before.
BottomLine: Good high level intro to Kubernetes security for a beginner
==
URL reference: https://securityboulevard.com/2024/07/why-kubernetes-doesnt-manage-users/
DateReviewed: 2024-08-05
Description: This article tackles the question of why Kubernetes doesn't manage users. First, they explain how authentication and authorization happen in Kubernetes - where TLS is used with Certs to figure out what identity should be used and if it is valid, and then RBAC to figure out what an identity should have access to. They point out that this is challenging for larger deployments, so K8s has ability to offload these parts to third party AA providers. They then go through some of the reasons orgs may want to do their own auth, which includes a diverse set of use cases and different security considerations. Next up, we look at ways to hook external connectors for auth up, and these include OIDC, LDAP and Webhooks with custom auth plugins. They then go through each option in turn, with a large secton on how they work, how to config, test, and then configure RBAC to work with them. They tie this up with a motivator on using RBAC properly and suggestions on which 3rd pary auth to use when. Oveall a solid piece.
BottomLine: Good primer and setup walkthrough of user auth on Kubernetes
==
URL reference: https://cloudbelievers.blogspot.com/2024/07/securing-your-kubernetes-kingdom-basics.html
DateReviewed: 2024-08-06
Description: This is supposed to be an article about AKS, but the formatting is bad. On Firefox, the first paragraph is just one long line, which is not great. I'm not usually that worried about this stuff, but makes reading challenging. This is focused on Azure, but it's pretty thin. We get good headings, including network security, identity and access management, container security, secrets management and finally monitoring and logging. Under each heading, we get 2 or usually 3 bullet points on what to do. They then have a section on Best practices which is another 5 bullet points, and finishes with 3 additional consideration points. My honest take is that someone had an idea but not time to write a full article, so did the minimum. The points aren't bad, but everything is super terse and feels like a person new to Azure/AKS would be intimidated by this approach.
BottomLine: Super lean approach to Azure Kubernetes security
==
URL reference: https://medium.com/@kamransharief7/crafting-optimal-container-images-best-practices-for-security-and-efficiency-c7ff89c7d424
DateReviewed: 2024-08-07
Description: This article aims to create optimal container images, which help with both performance and security. We jump right into an issue - that of reaching the DockerHub limit. They suggest alternatives like an alternate Registry, or if your infra is in the cloud, you can use the one for your cloud provider - eg ECR for AWS. Next up is using build contexts, and only copying the directories you need for deployment to the final image. Along these lines, they have suggestions for multi-arch builds and image caching, before explaing the usage of golden image creation. Each of these get about a paragraph explaining what they are and why you may want to use them. Now they start on optimizing, and we start with multi-stage builds - creating one image for the build part, and then just taking what is needed for the run to copy over. They also talk about minimizing layers and starting with lightweight images, again to reduce size and attack surface. We now switch to securing our container, which includes thinking about how environment variables are used. They go through doing a vulnerability scan, and also not using the root user if possible. They also recommend avoiding image:latest, which refers not to a specific version, but just the last one currently tagged.
BottomLine: Excellent coverage of optimizing and securing images for Docker and Kubernetes
==
URL reference: https://thenewstack.io/can-cilium-be-a-control-plane-beyond-kubernetes/
DateReviewed: 2024-08-08
Description: This article is based on an interview of one of the Cilium leads, and talks about where Cilium is going in the future. First, we get a background of the current landscape, and how eBPF has helped and been integrated into Kubernetes with Tetragon. The article shifts a bit to highlight AI and what the demands are there. The arguement made is that AI is better automation, allowing you to mitigate threats and issues in a more proactive way. The role they see for Cilium in this is one of universal data plane, but they don't say what this looks like. There is a bit of handwaving about software-defined networking, so perhaps at that level? (Side note - Cilium is powered by eBPF, and the article doesn't clarify that). They do mention that it's a question of whether eBPF can handle both layer 4 and layer 7 traffic that is needed. After this warm up, there are acutally quotes from the interviews with Youtube snips. In this part, they talk about what cloud native security might look like, issues with service mesh, how NSX fits into the picture, and ends with a little bit on the Cisco acquisition of Isovalent.
BottomLine: Interesting talk on the role eBPF/Cilium plays in and outside of Kubernetes
==
URL reference: https://traefik.io/glossary/understanding-multi-cluster-kubernetes/
DateReviewed: 2024-08-09
Description: This article looks into multi-cluster Kubernetes. We dive in quickly and are told that any config where we have more than one cluser fits - multiple on the same hosts, different hosts in the same DC, or multiple clouds. We then do a tour of a normal cluster and the control/data/worker planes, along with a diagram. Apparently the extra part in the multi-cluster is a global load balancer outside of the traditional K8s infra with another diagram. But they go on to explain, this is just one of a number of multi-clust configs. They break down both segmented vs repication and K8s centric vs network centric, with a couple paragraphs fleshing things out. They then have a longer section covering the benefits, with bits dedicated to flexibility, availability, scalability and resource utilization, workload isolation and security and compliance, with a few paragraphs for each. They also detail the drawbacks, including complexity, config, security, deployment and cost. Overall, a good treatment of the topic.
BottomLine: Good overview of what multi-cluster Kubernetes is and the benefits and drawbacks
==
URL reference: https://blog.davidv.dev/posts/first-contact-with-k8s/
DateReviewed: 2024-08-10
Description: This is a blog on a skeptics first experience with Kubernetes. We start with a section on the author and his approach, and that this is his experience and opinion. He takes a practical approach, and starts from first principles, doing a brief description of what K8s is in the abstract before moving on to define the various resources that are used in K8s. He even illustrates with a diagram. He has a great explaination of controllers - they are "control loops" that use sensors to perform actions on workloads. He has a few examples, like a sensor looking for latency, and if it grows beyond a certain point spinning up more pods. He then talks about how a service works, and the various mechanics to have it run seemlessly. He pegs it as a network resource, where you get a stable endpoint (IP/port) which is then mapped to pods which support the underlying app. They even go through a traffic flow diagram. Next we move on to what he calls workload management - they show an imperitive invocation, and then explain a replica set and how this is a declarative invocation. The last K8s thing he tackles is storage, explaining ephemeral storage along with durable storage through Persistent volumes. He then documents some open questions and things he hasn't explored, which is neat. He also includes a small rant against something he sees as an issue in various config files. Overall, a great read and recommended.
BottomLine: Recommended piece about someone taking their first run at Kubernetes
==
URL reference: https://securitylabs.datadoghq.com/articles/kubernetes-security-fundamentals-part-4/
DateReviewed: 2024-08-11
Description: This article is part of a series, and this installment focuses on authorization, or what a verified user can do. We start with a diagram, which is always a good sign. They note upfront that there are flexible authorization modules, which allow multiple ways to do this auth. These can be chained together, and modules can do an explicit approve or deny, or alternatively respond "no opinion", which drops through to the next member of the chain. If all chain members respond "no opinion", the request is implicitly denied. They note that since auth is split up, there is no way to get all permissions a user has easily, and all of the configs have to be audited one by one. They note there is a special group, system:masters, which is like root and doesn't check auth modules, but they also note ordinary users should never be placed in this group for that reason. They talk about some special modes, including Node Authorizer, which is intended to restrict priv escalation. Normally kubelet has access to all secrets, to be able to provide them to requesting pods, but a compromise can allow an attacker access to the kubelet; the idea here is to restrict this to kubelets running on nodes. They also mention AlwaysAllow and AlwaysDeny, along with ABAC, an attribute-based control run from static JSON files on nodes, which is rarely used because of the lack of flexibility. Next is RBAC, which they have a diagram for and go into decent detail about. We end this section with a dive into Webhook, which allows a call to an external provider that returns a response. We then talk about other components, like Kubelet and the Scheduler and Controller manager and how they are controlled. While this is a shorter piece, it's clear and well delivered, and a recommend.
BottomLine: Recommended piece on Kubernetes security fundamentals
==
